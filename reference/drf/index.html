
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Extend functionality of django-import-export">
      
      
      
        <link rel="canonical" href="https://saritasa-nest.github.io/django-import-export-extensions/reference/drf/">
      
      
        <link rel="prev" href="../admin/">
      
      
        <link rel="next" href="../models/">
      
      
        
      
      
      <link rel="icon" href="../../_static/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>DRF - django-import-export-extensions</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../_static/custom_color.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-rest-framework" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="django-import-export-extensions" class="md-header__button md-logo" aria-label="django-import-export-extensions" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            django-import-export-extensions
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              DRF
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/saritasa-nest/django-import-export-extensions/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    django-import-export-extensions
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="django-import-export-extensions" class="md-nav__button md-logo" aria-label="django-import-export-extensions" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    django-import-export-extensions
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/saritasa-nest/django-import-export-extensions/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    django-import-export-extensions
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation and configuration
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting started
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrate_from_original_import_export/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Migrate from original django-import-export package
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Extensions
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../recipes_and_integration_tips/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Recipes and integrations tips
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Admin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    DRF
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    DRF
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportJobViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        ImportJobViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportJobViewSet.get_queryset" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_queryset
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportJobViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExportJobViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportJobViewSet.get_queryset" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_queryset
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportJobForUserViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        ImportJobForUserViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportJobForUserViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExportJobForUserViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseImportJobViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        BaseImportJobViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseImportJobViewSet.__init_subclass__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init_subclass__
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseImportJobViewSet.cancel" class="md-nav__link">
    <span class="md-ellipsis">
      
        cancel
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseImportJobViewSet.confirm" class="md-nav__link">
    <span class="md-ellipsis">
      
        confirm
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseExportJobViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        BaseExportJobViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseExportJobViewSet.__init_subclass__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init_subclass__
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseExportJobViewSet.cancel" class="md-nav__link">
    <span class="md-ellipsis">
      
        cancel
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseImportJobForUserViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        BaseImportJobForUserViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseExportJobForUserViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        BaseExportJobForUserViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.LimitQuerySetToCurrentUserMixin" class="md-nav__link">
    <span class="md-ellipsis">
      
        LimitQuerySetToCurrentUserMixin
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.LimitQuerySetToCurrentUserMixin.get_queryset" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_queryset
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin" class="md-nav__link">
    <span class="md-ellipsis">
      
        ImportStartActionMixin
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin.get_import_create_serializer_class" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_import_create_serializer_class
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin.get_import_detail_serializer_class" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_import_detail_serializer_class
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin.get_import_resource_kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_import_resource_kwargs
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin.get_queryset" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_queryset
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin.get_serializer" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_serializer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin.start_import" class="md-nav__link">
    <span class="md-ellipsis">
      
        start_import
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExportStartActionMixin
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin.get_export_create_serializer_class" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_export_create_serializer_class
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin.get_export_detail_serializer_class" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_export_detail_serializer_class
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin.get_export_resource_kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_export_resource_kwargs
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin.get_queryset" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_queryset
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin.get_serializer" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_serializer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin.start_export" class="md-nav__link">
    <span class="md-ellipsis">
      
        start_export
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateExportJob" class="md-nav__link">
    <span class="md-ellipsis">
      
        CreateExportJob
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateExportJob.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateExportJob.create" class="md-nav__link">
    <span class="md-ellipsis">
      
        create
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateExportJob.update" class="md-nav__link">
    <span class="md-ellipsis">
      
        update
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateExportJob.validate" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateImportJob" class="md-nav__link">
    <span class="md-ellipsis">
      
        CreateImportJob
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateImportJob.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateImportJob.create" class="md-nav__link">
    <span class="md-ellipsis">
      
        create
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateImportJob.update" class="md-nav__link">
    <span class="md-ellipsis">
      
        update
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportJobSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExportJobSerializer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportJobSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      
        ImportJobSerializer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ProgressSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      
        ProgressSerializer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ProgressInfoSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      
        ProgressInfoSerializer
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportJobViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        ImportJobViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportJobViewSet.get_queryset" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_queryset
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportJobViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExportJobViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportJobViewSet.get_queryset" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_queryset
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportJobForUserViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        ImportJobForUserViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportJobForUserViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExportJobForUserViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseImportJobViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        BaseImportJobViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseImportJobViewSet.__init_subclass__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init_subclass__
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseImportJobViewSet.cancel" class="md-nav__link">
    <span class="md-ellipsis">
      
        cancel
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseImportJobViewSet.confirm" class="md-nav__link">
    <span class="md-ellipsis">
      
        confirm
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseExportJobViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        BaseExportJobViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseExportJobViewSet.__init_subclass__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init_subclass__
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseExportJobViewSet.cancel" class="md-nav__link">
    <span class="md-ellipsis">
      
        cancel
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseImportJobForUserViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        BaseImportJobForUserViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.BaseExportJobForUserViewSet" class="md-nav__link">
    <span class="md-ellipsis">
      
        BaseExportJobForUserViewSet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.LimitQuerySetToCurrentUserMixin" class="md-nav__link">
    <span class="md-ellipsis">
      
        LimitQuerySetToCurrentUserMixin
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.LimitQuerySetToCurrentUserMixin.get_queryset" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_queryset
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin" class="md-nav__link">
    <span class="md-ellipsis">
      
        ImportStartActionMixin
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin.get_import_create_serializer_class" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_import_create_serializer_class
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin.get_import_detail_serializer_class" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_import_detail_serializer_class
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin.get_import_resource_kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_import_resource_kwargs
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin.get_queryset" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_queryset
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin.get_serializer" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_serializer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportStartActionMixin.start_import" class="md-nav__link">
    <span class="md-ellipsis">
      
        start_import
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExportStartActionMixin
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin.get_export_create_serializer_class" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_export_create_serializer_class
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin.get_export_detail_serializer_class" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_export_detail_serializer_class
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin.get_export_resource_kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_export_resource_kwargs
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin.get_queryset" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_queryset
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin.get_serializer" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_serializer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportStartActionMixin.start_export" class="md-nav__link">
    <span class="md-ellipsis">
      
        start_export
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateExportJob" class="md-nav__link">
    <span class="md-ellipsis">
      
        CreateExportJob
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateExportJob.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateExportJob.create" class="md-nav__link">
    <span class="md-ellipsis">
      
        create
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateExportJob.update" class="md-nav__link">
    <span class="md-ellipsis">
      
        update
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateExportJob.validate" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateImportJob" class="md-nav__link">
    <span class="md-ellipsis">
      
        CreateImportJob
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateImportJob.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateImportJob.create" class="md-nav__link">
    <span class="md-ellipsis">
      
        create
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.CreateImportJob.update" class="md-nav__link">
    <span class="md-ellipsis">
      
        update
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ExportJobSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExportJobSerializer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ImportJobSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      
        ImportJobSerializer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ProgressSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      
        ProgressSerializer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import_export_extensions.api.ProgressInfoSerializer" class="md-nav__link">
    <span class="md-ellipsis">
      
        ProgressInfoSerializer
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../.." class="md-path__link">
        
  <span class="md-ellipsis">
    Home
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../admin/" class="md-path__link">
          
  <span class="md-ellipsis">
    Reference
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="api-rest-framework">API (Rest Framework)<a class="headerlink" href="#api-rest-framework" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.ImportJobViewSet"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ImportStartActionMixin (&lt;code&gt;import_export_extensions.api.mixins.ImportStartActionMixin&lt;/code&gt;)" href="#import_export_extensions.api.ImportStartActionMixin">ImportStartActionMixin</a></code>, <code><a class="autorefs autorefs-internal" title="BaseImportJobViewSet (&lt;code&gt;import_export_extensions.api.views.import_job.BaseImportJobViewSet&lt;/code&gt;)" href="#import_export_extensions.api.BaseImportJobViewSet">BaseImportJobViewSet</a></code></p>



        <p>Base API viewset for ImportJob model.</p>
<p>Based on resource_class it will generate an endpoint which will allow to
start an import to model which was specified in resource_class. On success
this endpoint we return an instance of import.</p>


<details class="endpoints" open>
  <summary>Endpoints</summary>
  <ul>
<li>list - to get list of all import jobs</li>
<li>details(retrieve) - to get status of import job</li>
<li>start - create import job and start parsing data from attached file</li>
<li>confirm - confirm import after parsing process is finished</li>
<li>cancel - stop importing/parsing process and cancel this import job</li>
</ul>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/views/import_job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ImportJobViewSet</span><span class="p">(</span>
    <span class="n">core_mixins</span><span class="o">.</span><span class="n">ImportStartActionMixin</span><span class="p">,</span>
    <span class="n">BaseImportJobViewSet</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base API viewset for ImportJob model.</span>

<span class="sd">    Based on resource_class it will generate an endpoint which will allow to</span>
<span class="sd">    start an import to model which was specified in resource_class. On success</span>
<span class="sd">    this endpoint we return an instance of import.</span>

<span class="sd">    Endpoints:</span>
<span class="sd">        - list - to get list of all import jobs</span>
<span class="sd">        - details(retrieve) - to get status of import job</span>
<span class="sd">        - start - create import job and start parsing data from attached file</span>
<span class="sd">        - confirm - confirm import after parsing process is finished</span>
<span class="sd">        - cancel - stop importing/parsing process and cancel this import job</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">import_action_name</span> <span class="o">=</span> <span class="s2">&quot;start&quot;</span>
    <span class="n">import_action_url</span> <span class="o">=</span> <span class="s2">&quot;start&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QuerySet</span><span class="p">[</span><span class="n">models</span><span class="o">.</span><span class="n">ImportJob</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Filter import jobs by resource used in viewset.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;import_action&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
            <span class="c1"># To make it consistent and for better support of drf-spectacular</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>  <span class="c1"># pragma: no cover</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">resource_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">class_path</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ImportJobViewSet.get_queryset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_queryset</span><span class="p">()</span></code>

<a href="#import_export_extensions.api.ImportJobViewSet.get_queryset" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Filter import jobs by resource used in viewset.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/views/import_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QuerySet</span><span class="p">[</span><span class="n">models</span><span class="o">.</span><span class="n">ImportJob</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Filter import jobs by resource used in viewset.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;import_action&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="c1"># To make it consistent and for better support of drf-spectacular</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>  <span class="c1"># pragma: no cover</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">resource_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">class_path</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.ExportJobViewSet"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ExportStartActionMixin (&lt;code&gt;import_export_extensions.api.mixins.ExportStartActionMixin&lt;/code&gt;)" href="#import_export_extensions.api.ExportStartActionMixin">ExportStartActionMixin</a></code>, <code><a class="autorefs autorefs-internal" title="BaseExportJobViewSet (&lt;code&gt;import_export_extensions.api.views.export_job.BaseExportJobViewSet&lt;/code&gt;)" href="#import_export_extensions.api.BaseExportJobViewSet">BaseExportJobViewSet</a></code></p>



        <p>Base API viewset for ExportJob model.</p>
<p>Based on resource_class it will generate an endpoint which will allow to
start an export of model which was specified in resource_class. This
endpoint will support filtration based on FilterSet class specified in
resource. On success this endpoint we return an instance of export, to
get status of job, just use detail(retrieve) endpoint.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/views/export_job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ExportJobViewSet</span><span class="p">(</span>
    <span class="n">core_mixins</span><span class="o">.</span><span class="n">ExportStartActionMixin</span><span class="p">,</span>
    <span class="n">BaseExportJobViewSet</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base API viewset for ExportJob model.</span>

<span class="sd">    Based on resource_class it will generate an endpoint which will allow to</span>
<span class="sd">    start an export of model which was specified in resource_class. This</span>
<span class="sd">    endpoint will support filtration based on FilterSet class specified in</span>
<span class="sd">    resource. On success this endpoint we return an instance of export, to</span>
<span class="sd">    get status of job, just use detail(retrieve) endpoint.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">export_action_name</span> <span class="o">=</span> <span class="s2">&quot;start&quot;</span>
    <span class="n">export_action_url</span> <span class="o">=</span> <span class="s2">&quot;start&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QuerySet</span><span class="p">[</span><span class="n">models</span><span class="o">.</span><span class="n">ExportJob</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Filter export jobs by resource used in viewset.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;export_action&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
            <span class="c1"># To make it consistent and for better support of drf-spectacular</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>  <span class="c1"># pragma: no cover</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">resource_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">class_path</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ExportJobViewSet.get_queryset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_queryset</span><span class="p">()</span></code>

<a href="#import_export_extensions.api.ExportJobViewSet.get_queryset" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Filter export jobs by resource used in viewset.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/views/export_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QuerySet</span><span class="p">[</span><span class="n">models</span><span class="o">.</span><span class="n">ExportJob</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Filter export jobs by resource used in viewset.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;export_action&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="c1"># To make it consistent and for better support of drf-spectacular</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>  <span class="c1"># pragma: no cover</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">resource_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">class_path</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.ImportJobForUserViewSet"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="LimitQuerySetToCurrentUserMixin (&lt;code&gt;import_export_extensions.api.mixins.LimitQuerySetToCurrentUserMixin&lt;/code&gt;)" href="#import_export_extensions.api.LimitQuerySetToCurrentUserMixin">LimitQuerySetToCurrentUserMixin</a></code>, <code><a class="autorefs autorefs-internal" title="ImportJobViewSet (&lt;code&gt;import_export_extensions.api.views.import_job.ImportJobViewSet&lt;/code&gt;)" href="#import_export_extensions.api.ImportJobViewSet">ImportJobViewSet</a></code></p>



        <p>Viewset for providing import feature to users.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/views/import_job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ImportJobForUserViewSet</span><span class="p">(</span>
    <span class="n">core_mixins</span><span class="o">.</span><span class="n">LimitQuerySetToCurrentUserMixin</span><span class="p">,</span>
    <span class="n">ImportJobViewSet</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Viewset for providing import feature to users.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.ExportJobForUserViewSet"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="LimitQuerySetToCurrentUserMixin (&lt;code&gt;import_export_extensions.api.mixins.LimitQuerySetToCurrentUserMixin&lt;/code&gt;)" href="#import_export_extensions.api.LimitQuerySetToCurrentUserMixin">LimitQuerySetToCurrentUserMixin</a></code>, <code><a class="autorefs autorefs-internal" title="ExportJobViewSet (&lt;code&gt;import_export_extensions.api.views.export_job.ExportJobViewSet&lt;/code&gt;)" href="#import_export_extensions.api.ExportJobViewSet">ExportJobViewSet</a></code></p>



        <p>Viewset for providing export feature to users.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/views/export_job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ExportJobForUserViewSet</span><span class="p">(</span>
    <span class="n">core_mixins</span><span class="o">.</span><span class="n">LimitQuerySetToCurrentUserMixin</span><span class="p">,</span>
    <span class="n">ExportJobViewSet</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Viewset for providing export feature to users.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.BaseImportJobViewSet"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.mixins.ListModelMixin">ListModelMixin</span></code>, <code><span title="rest_framework.mixins.RetrieveModelMixin">RetrieveModelMixin</span></code>, <code><span title="rest_framework.viewsets.GenericViewSet">GenericViewSet</span></code></p>



        <p>Base viewset for managing import jobs.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/views/import_job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BaseImportJobViewSet</span><span class="p">(</span>
    <span class="n">mixins</span><span class="o">.</span><span class="n">ListModelMixin</span><span class="p">,</span>
    <span class="n">mixins</span><span class="o">.</span><span class="n">RetrieveModelMixin</span><span class="p">,</span>
    <span class="n">viewsets</span><span class="o">.</span><span class="n">GenericViewSet</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base viewset for managing import jobs.&quot;&quot;&quot;</span>

    <span class="n">permission_classes</span> <span class="o">=</span> <span class="p">(</span><span class="n">permissions</span><span class="o">.</span><span class="n">IsAuthenticated</span><span class="p">,)</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">core_mixins</span><span class="o">.</span><span class="n">ImportStartActionMixin</span><span class="o">.</span><span class="n">import_detail_serializer_class</span>  <span class="c1"># noqa: E501</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ImportJob</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">search_fields</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,)</span>
    <span class="n">ordering</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;id&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ordering_fields</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;created&quot;</span><span class="p">,</span>
        <span class="s2">&quot;modified&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__init_subclass__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Dynamically create an cancel api endpoints.</span>

<span class="sd">        Need to do this to enable action and correct open-api spec generated by</span>
<span class="sd">        drf_spectacular.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init_subclass__</span><span class="p">()</span>
        <span class="n">decorators</span><span class="o">.</span><span class="n">action</span><span class="p">(</span>
            <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;POST&quot;</span><span class="p">],</span>
            <span class="n">detail</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)(</span><span class="bp">cls</span><span class="o">.</span><span class="n">cancel</span><span class="p">)</span>
        <span class="n">decorators</span><span class="o">.</span><span class="n">action</span><span class="p">(</span>
            <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;POST&quot;</span><span class="p">],</span>
            <span class="n">detail</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)(</span><span class="bp">cls</span><span class="o">.</span><span class="n">confirm</span><span class="p">)</span>
        <span class="c1"># Correct specs of drf-spectacular if it is installed</span>
        <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">ImportError</span><span class="p">):</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">drf_spectacular.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">extend_schema</span><span class="p">,</span> <span class="n">extend_schema_view</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;get_import_detail_serializer_class&quot;</span><span class="p">):</span>
                <span class="n">response_serializer</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span><span class="o">.</span><span class="n">get_import_detail_serializer_class</span><span class="p">()</span>  <span class="c1"># noqa: E501</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">response_serializer</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span><span class="o">.</span><span class="n">get_serializer_class</span><span class="p">()</span>
            <span class="n">extend_schema_view</span><span class="p">(</span>
                <span class="n">cancel</span><span class="o">=</span><span class="n">extend_schema</span><span class="p">(</span>
                    <span class="n">request</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
                        <span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">:</span> <span class="n">response_serializer</span><span class="p">,</span>
                    <span class="p">},</span>
                <span class="p">),</span>
                <span class="n">confirm</span><span class="o">=</span><span class="n">extend_schema</span><span class="p">(</span>
                    <span class="n">request</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
                        <span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">:</span> <span class="n">response_serializer</span><span class="p">,</span>
                    <span class="p">},</span>
                <span class="p">),</span>
            <span class="p">)(</span><span class="bp">cls</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">confirm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Confirm import job that has `parsed` status.&quot;&quot;&quot;</span>
        <span class="n">job</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">ImportJob</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_object</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">job</span><span class="o">.</span><span class="n">confirm_import</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="kn">from</span><span class="w"> </span><span class="nn">error</span>

        <span class="n">serializer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">job</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">(</span>
            <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">serializer</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Cancel import job that is in progress.&quot;&quot;&quot;</span>
        <span class="n">job</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">ImportJob</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_object</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">job</span><span class="o">.</span><span class="n">cancel_import</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="kn">from</span><span class="w"> </span><span class="nn">error</span>

        <span class="n">serializer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">job</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">(</span>
            <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">serializer</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.BaseImportJobViewSet.__init_subclass__" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__init_subclass__</span><span class="p">()</span></code>

<a href="#import_export_extensions.api.BaseImportJobViewSet.__init_subclass__" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Dynamically create an cancel api endpoints.</p>
<p>Need to do this to enable action and correct open-api spec generated by
drf_spectacular.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/views/import_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">__init_subclass__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dynamically create an cancel api endpoints.</span>

<span class="sd">    Need to do this to enable action and correct open-api spec generated by</span>
<span class="sd">    drf_spectacular.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init_subclass__</span><span class="p">()</span>
    <span class="n">decorators</span><span class="o">.</span><span class="n">action</span><span class="p">(</span>
        <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;POST&quot;</span><span class="p">],</span>
        <span class="n">detail</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)(</span><span class="bp">cls</span><span class="o">.</span><span class="n">cancel</span><span class="p">)</span>
    <span class="n">decorators</span><span class="o">.</span><span class="n">action</span><span class="p">(</span>
        <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;POST&quot;</span><span class="p">],</span>
        <span class="n">detail</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)(</span><span class="bp">cls</span><span class="o">.</span><span class="n">confirm</span><span class="p">)</span>
    <span class="c1"># Correct specs of drf-spectacular if it is installed</span>
    <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">ImportError</span><span class="p">):</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">drf_spectacular.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">extend_schema</span><span class="p">,</span> <span class="n">extend_schema_view</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;get_import_detail_serializer_class&quot;</span><span class="p">):</span>
            <span class="n">response_serializer</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span><span class="o">.</span><span class="n">get_import_detail_serializer_class</span><span class="p">()</span>  <span class="c1"># noqa: E501</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">response_serializer</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span><span class="o">.</span><span class="n">get_serializer_class</span><span class="p">()</span>
        <span class="n">extend_schema_view</span><span class="p">(</span>
            <span class="n">cancel</span><span class="o">=</span><span class="n">extend_schema</span><span class="p">(</span>
                <span class="n">request</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">:</span> <span class="n">response_serializer</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">),</span>
            <span class="n">confirm</span><span class="o">=</span><span class="n">extend_schema</span><span class="p">(</span>
                <span class="n">request</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">:</span> <span class="n">response_serializer</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">),</span>
        <span class="p">)(</span><span class="bp">cls</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.BaseImportJobViewSet.cancel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cancel</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.BaseImportJobViewSet.cancel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Cancel import job that is in progress.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/views/import_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Cancel import job that is in progress.&quot;&quot;&quot;</span>
    <span class="n">job</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">ImportJob</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_object</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">job</span><span class="o">.</span><span class="n">cancel_import</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="kn">from</span><span class="w"> </span><span class="nn">error</span>

    <span class="n">serializer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">job</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">(</span>
        <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">serializer</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.BaseImportJobViewSet.confirm" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">confirm</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.BaseImportJobViewSet.confirm" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Confirm import job that has <code>parsed</code> status.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/views/import_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">confirm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Confirm import job that has `parsed` status.&quot;&quot;&quot;</span>
    <span class="n">job</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">ImportJob</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_object</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">job</span><span class="o">.</span><span class="n">confirm_import</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="kn">from</span><span class="w"> </span><span class="nn">error</span>

    <span class="n">serializer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">job</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">(</span>
        <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">serializer</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.BaseExportJobViewSet"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.mixins.ListModelMixin">ListModelMixin</span></code>, <code><span title="rest_framework.mixins.RetrieveModelMixin">RetrieveModelMixin</span></code>, <code><span title="rest_framework.viewsets.GenericViewSet">GenericViewSet</span></code></p>



        <p>Base viewset for managing export jobs.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/views/export_job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BaseExportJobViewSet</span><span class="p">(</span>
    <span class="n">mixins</span><span class="o">.</span><span class="n">ListModelMixin</span><span class="p">,</span>
    <span class="n">mixins</span><span class="o">.</span><span class="n">RetrieveModelMixin</span><span class="p">,</span>
    <span class="n">viewsets</span><span class="o">.</span><span class="n">GenericViewSet</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base viewset for managing export jobs.&quot;&quot;&quot;</span>

    <span class="n">permission_classes</span> <span class="o">=</span> <span class="p">(</span><span class="n">permissions</span><span class="o">.</span><span class="n">IsAuthenticated</span><span class="p">,)</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">core_mixins</span><span class="o">.</span><span class="n">ExportStartActionMixin</span><span class="o">.</span><span class="n">export_detail_serializer_class</span>  <span class="c1"># noqa: E501</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ExportJob</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">filterset_class</span><span class="p">:</span> <span class="n">django_filters</span><span class="o">.</span><span class="n">rest_framework</span><span class="o">.</span><span class="n">FilterSet</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">search_fields</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,)</span>
    <span class="n">ordering</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;id&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">ordering_fields</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="s2">&quot;created&quot;</span><span class="p">,</span>
        <span class="s2">&quot;modified&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__init_subclass__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Dynamically create an cancel api endpoints.</span>

<span class="sd">        Need to do this to enable action and correct open-api spec generated by</span>
<span class="sd">        drf_spectacular.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init_subclass__</span><span class="p">()</span>
        <span class="n">decorators</span><span class="o">.</span><span class="n">action</span><span class="p">(</span>
            <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;POST&quot;</span><span class="p">],</span>
            <span class="n">detail</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)(</span><span class="bp">cls</span><span class="o">.</span><span class="n">cancel</span><span class="p">)</span>
        <span class="c1"># Correct specs of drf-spectacular if it is installed</span>
        <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">ImportError</span><span class="p">):</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">drf_spectacular.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">extend_schema</span><span class="p">,</span> <span class="n">extend_schema_view</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;get_export_detail_serializer_class&quot;</span><span class="p">):</span>
                <span class="n">response_serializer</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span><span class="o">.</span><span class="n">get_export_detail_serializer_class</span><span class="p">()</span>  <span class="c1"># noqa: E501</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">response_serializer</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span><span class="o">.</span><span class="n">get_serializer_class</span><span class="p">()</span>
            <span class="n">extend_schema_view</span><span class="p">(</span>
                <span class="n">cancel</span><span class="o">=</span><span class="n">extend_schema</span><span class="p">(</span>
                    <span class="n">request</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                    <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
                        <span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">:</span> <span class="n">response_serializer</span><span class="p">,</span>
                    <span class="p">},</span>
                <span class="p">),</span>
            <span class="p">)(</span><span class="bp">cls</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Cancel export job that is in progress.&quot;&quot;&quot;</span>
        <span class="n">job</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">ExportJob</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_object</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">job</span><span class="o">.</span><span class="n">cancel_export</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="kn">from</span><span class="w"> </span><span class="nn">error</span>

        <span class="n">serializer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">job</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">(</span>
            <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">serializer</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.BaseExportJobViewSet.__init_subclass__" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__init_subclass__</span><span class="p">()</span></code>

<a href="#import_export_extensions.api.BaseExportJobViewSet.__init_subclass__" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Dynamically create an cancel api endpoints.</p>
<p>Need to do this to enable action and correct open-api spec generated by
drf_spectacular.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/views/export_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">__init_subclass__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Dynamically create an cancel api endpoints.</span>

<span class="sd">    Need to do this to enable action and correct open-api spec generated by</span>
<span class="sd">    drf_spectacular.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init_subclass__</span><span class="p">()</span>
    <span class="n">decorators</span><span class="o">.</span><span class="n">action</span><span class="p">(</span>
        <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;POST&quot;</span><span class="p">],</span>
        <span class="n">detail</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)(</span><span class="bp">cls</span><span class="o">.</span><span class="n">cancel</span><span class="p">)</span>
    <span class="c1"># Correct specs of drf-spectacular if it is installed</span>
    <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">ImportError</span><span class="p">):</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">drf_spectacular.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">extend_schema</span><span class="p">,</span> <span class="n">extend_schema_view</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;get_export_detail_serializer_class&quot;</span><span class="p">):</span>
            <span class="n">response_serializer</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span><span class="o">.</span><span class="n">get_export_detail_serializer_class</span><span class="p">()</span>  <span class="c1"># noqa: E501</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">response_serializer</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span><span class="o">.</span><span class="n">get_serializer_class</span><span class="p">()</span>
        <span class="n">extend_schema_view</span><span class="p">(</span>
            <span class="n">cancel</span><span class="o">=</span><span class="n">extend_schema</span><span class="p">(</span>
                <span class="n">request</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
                    <span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">:</span> <span class="n">response_serializer</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">),</span>
        <span class="p">)(</span><span class="bp">cls</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.BaseExportJobViewSet.cancel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cancel</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.BaseExportJobViewSet.cancel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Cancel export job that is in progress.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/views/export_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Cancel export job that is in progress.&quot;&quot;&quot;</span>
    <span class="n">job</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">ExportJob</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_object</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">job</span><span class="o">.</span><span class="n">cancel_export</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="n">error</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="kn">from</span><span class="w"> </span><span class="nn">error</span>

    <span class="n">serializer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">job</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">(</span>
        <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_200_OK</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="n">serializer</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.BaseImportJobForUserViewSet"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="LimitQuerySetToCurrentUserMixin (&lt;code&gt;import_export_extensions.api.mixins.LimitQuerySetToCurrentUserMixin&lt;/code&gt;)" href="#import_export_extensions.api.LimitQuerySetToCurrentUserMixin">LimitQuerySetToCurrentUserMixin</a></code>, <code><a class="autorefs autorefs-internal" title="BaseImportJobViewSet (&lt;code&gt;import_export_extensions.api.views.import_job.BaseImportJobViewSet&lt;/code&gt;)" href="#import_export_extensions.api.BaseImportJobViewSet">BaseImportJobViewSet</a></code></p>



        <p>Viewset for providing export job management to users.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/views/import_job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BaseImportJobForUserViewSet</span><span class="p">(</span>
    <span class="n">core_mixins</span><span class="o">.</span><span class="n">LimitQuerySetToCurrentUserMixin</span><span class="p">,</span>
    <span class="n">BaseImportJobViewSet</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Viewset for providing export job management to users.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.BaseExportJobForUserViewSet"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="LimitQuerySetToCurrentUserMixin (&lt;code&gt;import_export_extensions.api.mixins.LimitQuerySetToCurrentUserMixin&lt;/code&gt;)" href="#import_export_extensions.api.LimitQuerySetToCurrentUserMixin">LimitQuerySetToCurrentUserMixin</a></code>, <code><a class="autorefs autorefs-internal" title="BaseExportJobViewSet (&lt;code&gt;import_export_extensions.api.views.export_job.BaseExportJobViewSet&lt;/code&gt;)" href="#import_export_extensions.api.BaseExportJobViewSet">BaseExportJobViewSet</a></code></p>



        <p>Viewset for providing export job management to users.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/views/export_job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BaseExportJobForUserViewSet</span><span class="p">(</span>
    <span class="n">core_mixins</span><span class="o">.</span><span class="n">LimitQuerySetToCurrentUserMixin</span><span class="p">,</span>
    <span class="n">BaseExportJobViewSet</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Viewset for providing export job management to users.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.LimitQuerySetToCurrentUserMixin"></a>
    <div class="doc doc-contents first">



        <p>Make queryset to return only current user jobs.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/mixins/common.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">LimitQuerySetToCurrentUserMixin</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Make queryset to return only current user jobs.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QuerySet</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return user&#39;s jobs.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;import_action&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
            <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;export_action&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
        <span class="p">):</span>
            <span class="c1"># To make it consistent and for better support of drf-spectacular</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>  <span class="c1"># type: ignore[misc]</span>
            <span class="p">)</span>  <span class="c1"># pragma: no cover</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="nb">super</span><span class="p">()</span>  <span class="c1"># type: ignore[misc]</span>
            <span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>
            <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">created_by_id</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="s2">&quot;pk&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.LimitQuerySetToCurrentUserMixin.get_queryset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_queryset</span><span class="p">()</span></code>

<a href="#import_export_extensions.api.LimitQuerySetToCurrentUserMixin.get_queryset" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Return user's jobs.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/mixins/common.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QuerySet</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return user&#39;s jobs.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="ow">in</span> <span class="p">(</span>
        <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;import_action&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
        <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;export_action&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
    <span class="p">):</span>
        <span class="c1"># To make it consistent and for better support of drf-spectacular</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>  <span class="c1"># type: ignore[misc]</span>
        <span class="p">)</span>  <span class="c1"># pragma: no cover</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="nb">super</span><span class="p">()</span>  <span class="c1"># type: ignore[misc]</span>
        <span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>
        <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">created_by_id</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="s2">&quot;pk&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.ImportStartActionMixin"></a>
    <div class="doc doc-contents first">



        <p>Mixin which adds start import action.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/mixins/import_mixins.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ImportStartActionMixin</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Mixin which adds start import action.&quot;&quot;&quot;</span>

    <span class="n">resource_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">resources</span><span class="o">.</span><span class="n">CeleryModelResource</span><span class="p">]</span>
    <span class="n">import_action</span> <span class="o">=</span> <span class="s2">&quot;start_import_action&quot;</span>
    <span class="n">import_action_name</span> <span class="o">=</span> <span class="s2">&quot;import&quot;</span>
    <span class="n">import_action_url</span> <span class="o">=</span> <span class="s2">&quot;import&quot;</span>
    <span class="n">import_detail_serializer_class</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">ImportJobSerializer</span>
    <span class="n">import_open_api_description</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;This endpoint creates import job and starts it. &quot;</span>
        <span class="s2">&quot;To monitor progress use detail endpoint for jobs to fetch state of &quot;</span>
        <span class="s2">&quot;job. Once it&#39;s status is `PARSED`, you can confirm import and data &quot;</span>
        <span class="s2">&quot;should start importing. When status `INPUT_ERROR` or `PARSE_ERROR` &quot;</span>
        <span class="s2">&quot;it means data failed validations and can&#39;t be imported. &quot;</span>
        <span class="s2">&quot;When status is `IMPORTED`, it means data is in system and &quot;</span>
        <span class="s2">&quot;job is completed.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__init_subclass__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init_subclass__</span><span class="p">()</span>
        <span class="c1"># Skip if it is has no resource_class specified</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;resource_class&quot;</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">start_import_action</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">:</span> <span class="s2">&quot;ImportStartActionMixin&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">Request</span><span class="p">,</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_import</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

        <span class="nb">setattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">import_action</span><span class="p">,</span> <span class="n">start_import_action</span><span class="p">)</span>
        <span class="n">decorators</span><span class="o">.</span><span class="n">action</span><span class="p">(</span>
            <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;POST&quot;</span><span class="p">],</span>
            <span class="n">url_name</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">import_action_name</span><span class="p">,</span>
            <span class="n">url_path</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">import_action_url</span><span class="p">,</span>
            <span class="n">detail</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">queryset</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">get_model_queryset</span><span class="p">(),</span>
            <span class="n">serializer_class</span><span class="o">=</span><span class="bp">cls</span><span class="p">()</span><span class="o">.</span><span class="n">get_import_create_serializer_class</span><span class="p">(),</span>
        <span class="p">)(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">import_action</span><span class="p">))</span>
        <span class="c1"># Correct specs of drf-spectacular if it is installed</span>
        <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">ImportError</span><span class="p">):</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">drf_spectacular</span><span class="w"> </span><span class="kn">import</span> <span class="n">utils</span>

            <span class="n">utils</span><span class="o">.</span><span class="n">extend_schema_view</span><span class="p">(</span>
                <span class="o">**</span><span class="p">{</span>
                    <span class="bp">cls</span><span class="o">.</span><span class="n">import_action</span><span class="p">:</span> <span class="n">utils</span><span class="o">.</span><span class="n">extend_schema</span><span class="p">(</span>
                        <span class="n">description</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">import_open_api_description</span><span class="p">,</span>
                        <span class="n">filters</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                        <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
                            <span class="n">status</span><span class="o">.</span><span class="n">HTTP_201_CREATED</span><span class="p">:</span> <span class="bp">cls</span><span class="p">()</span><span class="o">.</span><span class="n">get_import_detail_serializer_class</span><span class="p">(),</span>  <span class="c1"># noqa: E501</span>
                        <span class="p">},</span>
                    <span class="p">),</span>
                <span class="p">},</span>
            <span class="p">)(</span><span class="bp">cls</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QuerySet</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return import model queryset on import action.</span>

<span class="sd">        For better openapi support and consistency.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_action</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">get_model_queryset</span><span class="p">()</span>  <span class="c1"># pragma: no cover</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>  <span class="c1"># type: ignore[misc]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_import_detail_serializer_class</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">type</span><span class="p">[</span><span class="n">serializers</span><span class="o">.</span><span class="n">ImportJobSerializer</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get serializer which will be used show details of import job.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_detail_serializer_class</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_import_create_serializer_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">type</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get serializer which will be used to start import job.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">serializers</span><span class="o">.</span><span class="n">get_create_import_job_serializer</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_import_resource_kwargs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provide extra arguments to resource class.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_serializer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Serializer</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provide resource kwargs to serializer class.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_action</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span>
                <span class="s2">&quot;resource_kwargs&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_import_resource_kwargs</span><span class="p">(),</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># type: ignore[misc]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">start_import</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate request data and start ImportJob.&quot;&quot;&quot;</span>
        <span class="n">serializer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="n">serializer</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(</span><span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">import_job</span> <span class="o">=</span> <span class="n">serializer</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_import_detail_serializer_class</span><span class="p">()(</span>
                <span class="n">instance</span><span class="o">=</span><span class="n">import_job</span><span class="p">,</span>
            <span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
            <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_201_CREATED</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ImportStartActionMixin.get_import_create_serializer_class" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_import_create_serializer_class</span><span class="p">()</span></code>

<a href="#import_export_extensions.api.ImportStartActionMixin.get_import_create_serializer_class" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Get serializer which will be used to start import job.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/mixins/import_mixins.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_import_create_serializer_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">type</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get serializer which will be used to start import job.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">serializers</span><span class="o">.</span><span class="n">get_create_import_job_serializer</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ImportStartActionMixin.get_import_detail_serializer_class" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_import_detail_serializer_class</span><span class="p">()</span></code>

<a href="#import_export_extensions.api.ImportStartActionMixin.get_import_detail_serializer_class" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Get serializer which will be used show details of import job.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/mixins/import_mixins.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_import_detail_serializer_class</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">type</span><span class="p">[</span><span class="n">serializers</span><span class="o">.</span><span class="n">ImportJobSerializer</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get serializer which will be used show details of import job.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_detail_serializer_class</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ImportStartActionMixin.get_import_resource_kwargs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_import_resource_kwargs</span><span class="p">()</span></code>

<a href="#import_export_extensions.api.ImportStartActionMixin.get_import_resource_kwargs" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Provide extra arguments to resource class.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/mixins/import_mixins.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">97</span>
<span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_import_resource_kwargs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide extra arguments to resource class.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ImportStartActionMixin.get_queryset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_queryset</span><span class="p">()</span></code>

<a href="#import_export_extensions.api.ImportStartActionMixin.get_queryset" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Return import model queryset on import action.</p>
<p>For better openapi support and consistency.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/mixins/import_mixins.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QuerySet</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return import model queryset on import action.</span>

<span class="sd">    For better openapi support and consistency.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_action</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">get_model_queryset</span><span class="p">()</span>  <span class="c1"># pragma: no cover</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>  <span class="c1"># type: ignore[misc]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ImportStartActionMixin.get_serializer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_serializer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.ImportStartActionMixin.get_serializer" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Provide resource kwargs to serializer class.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/mixins/import_mixins.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_serializer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Serializer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide resource kwargs to serializer class.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_action</span><span class="p">:</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span>
            <span class="s2">&quot;resource_kwargs&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_import_resource_kwargs</span><span class="p">(),</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># type: ignore[misc]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ImportStartActionMixin.start_import" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">start_import</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.ImportStartActionMixin.start_import" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Validate request data and start ImportJob.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/mixins/import_mixins.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">start_import</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate request data and start ImportJob.&quot;&quot;&quot;</span>
    <span class="n">serializer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
    <span class="n">serializer</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(</span><span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">import_job</span> <span class="o">=</span> <span class="n">serializer</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_import_detail_serializer_class</span><span class="p">()(</span>
            <span class="n">instance</span><span class="o">=</span><span class="n">import_job</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_201_CREATED</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.ExportStartActionMixin"></a>
    <div class="doc doc-contents first">



        <p>Mixin which adds start export action.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/mixins/export_mixins.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ExportStartActionMixin</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Mixin which adds start export action.&quot;&quot;&quot;</span>

    <span class="n">resource_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">resources</span><span class="o">.</span><span class="n">CeleryModelResource</span><span class="p">]</span>
    <span class="n">export_action</span> <span class="o">=</span> <span class="s2">&quot;start_export_action&quot;</span>
    <span class="n">export_action_name</span> <span class="o">=</span> <span class="s2">&quot;export&quot;</span>
    <span class="n">export_action_url</span> <span class="o">=</span> <span class="s2">&quot;export&quot;</span>
    <span class="n">export_detail_serializer_class</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">ExportJobSerializer</span>
    <span class="n">export_ordering</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">export_ordering_fields</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">()</span>
    <span class="n">export_open_api_description</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;This endpoint creates export job and starts it. &quot;</span>
        <span class="s2">&quot;To monitor progress use detail endpoint for jobs to fetch state of &quot;</span>
        <span class="s2">&quot;job. Once it&#39;s status is `EXPORTED`, you can download file.&quot;</span>
    <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__init_subclass__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init_subclass__</span><span class="p">()</span>
        <span class="c1"># Skip if it is has no resource_class specified</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;resource_class&quot;</span><span class="p">):</span>
            <span class="k">return</span>
        <span class="n">filter_backends</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">module_loading</span><span class="o">.</span><span class="n">import_string</span><span class="p">(</span>
                <span class="n">settings</span><span class="o">.</span><span class="n">DRF_EXPORT_DJANGO_FILTERS_BACKEND</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">export_ordering_fields</span><span class="p">:</span>
            <span class="n">filter_backends</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">module_loading</span><span class="o">.</span><span class="n">import_string</span><span class="p">(</span>
                    <span class="n">settings</span><span class="o">.</span><span class="n">DRF_EXPORT_ORDERING_BACKEND</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">start_export_action</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">:</span> <span class="s2">&quot;ExportStartActionMixin&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">Request</span><span class="p">,</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_export</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

        <span class="nb">setattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">export_action</span><span class="p">,</span> <span class="n">start_export_action</span><span class="p">)</span>
        <span class="n">decorators</span><span class="o">.</span><span class="n">action</span><span class="p">(</span>
            <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;POST&quot;</span><span class="p">],</span>
            <span class="n">url_name</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">export_action_name</span><span class="p">,</span>
            <span class="n">url_path</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">export_action_url</span><span class="p">,</span>
            <span class="n">detail</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">queryset</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">get_model_queryset</span><span class="p">(),</span>
            <span class="n">serializer_class</span><span class="o">=</span><span class="bp">cls</span><span class="p">()</span><span class="o">.</span><span class="n">get_export_create_serializer_class</span><span class="p">(),</span>
            <span class="n">filterset_class</span><span class="o">=</span><span class="nb">getattr</span><span class="p">(</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">resource_class</span><span class="p">,</span>
                <span class="s2">&quot;filterset_class&quot;</span><span class="p">,</span>
                <span class="kc">None</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">filter_backends</span><span class="o">=</span><span class="n">filter_backends</span><span class="p">,</span>
            <span class="n">ordering</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">export_ordering</span><span class="p">,</span>
            <span class="n">ordering_fields</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">export_ordering_fields</span><span class="p">,</span>
        <span class="p">)(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="bp">cls</span><span class="o">.</span><span class="n">export_action</span><span class="p">))</span>
        <span class="c1"># Correct specs of drf-spectacular if it is installed</span>
        <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">ImportError</span><span class="p">):</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">drf_spectacular</span><span class="w"> </span><span class="kn">import</span> <span class="n">utils</span>

            <span class="n">utils</span><span class="o">.</span><span class="n">extend_schema_view</span><span class="p">(</span>
                <span class="o">**</span><span class="p">{</span>
                    <span class="bp">cls</span><span class="o">.</span><span class="n">export_action</span><span class="p">:</span> <span class="n">utils</span><span class="o">.</span><span class="n">extend_schema</span><span class="p">(</span>
                        <span class="n">description</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">export_open_api_description</span><span class="p">,</span>
                        <span class="n">filters</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                        <span class="n">responses</span><span class="o">=</span><span class="p">{</span>
                            <span class="n">status</span><span class="o">.</span><span class="n">HTTP_201_CREATED</span><span class="p">:</span> <span class="bp">cls</span><span class="p">()</span><span class="o">.</span><span class="n">get_export_detail_serializer_class</span><span class="p">(),</span>  <span class="c1"># noqa: E501</span>
                        <span class="p">},</span>
                    <span class="p">),</span>
                <span class="p">},</span>
            <span class="p">)(</span><span class="bp">cls</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QuerySet</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return export model queryset on export action.</span>

<span class="sd">        For better openapi support and consistency.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_action</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">get_model_queryset</span><span class="p">()</span>  <span class="c1"># pragma: no cover</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>  <span class="c1"># type: ignore[misc]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_export_detail_serializer_class</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">type</span><span class="p">[</span><span class="n">serializers</span><span class="o">.</span><span class="n">ExportJobSerializer</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get serializer which will be used show details of export job.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_detail_serializer_class</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_export_create_serializer_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">type</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get serializer which will be used to start export job.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">serializers</span><span class="o">.</span><span class="n">get_create_export_job_serializer</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_export_resource_kwargs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provide extra arguments to resource class.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_serializer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Serializer</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provide resource kwargs to serializer class.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_action</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span>
                <span class="s2">&quot;resource_kwargs&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_export_resource_kwargs</span><span class="p">(),</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># type: ignore[misc]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">start_export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate request data and start ExportJob.&quot;&quot;&quot;</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">query_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ordering&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ordering</span><span class="p">:</span>
            <span class="n">ordering</span> <span class="o">=</span> <span class="n">ordering</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
        <span class="n">serializer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
            <span class="n">ordering</span><span class="o">=</span><span class="n">ordering</span><span class="p">,</span>
            <span class="n">filter_kwargs</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">query_params</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">serializer</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(</span><span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">export_job</span> <span class="o">=</span> <span class="n">serializer</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">(</span>
            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_export_detail_serializer_class</span><span class="p">()(</span>
                <span class="n">instance</span><span class="o">=</span><span class="n">export_job</span><span class="p">,</span>
            <span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
            <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_201_CREATED</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ExportStartActionMixin.get_export_create_serializer_class" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_export_create_serializer_class</span><span class="p">()</span></code>

<a href="#import_export_extensions.api.ExportStartActionMixin.get_export_create_serializer_class" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Get serializer which will be used to start export job.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/mixins/export_mixins.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_export_create_serializer_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">type</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get serializer which will be used to start export job.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">serializers</span><span class="o">.</span><span class="n">get_create_export_job_serializer</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ExportStartActionMixin.get_export_detail_serializer_class" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_export_detail_serializer_class</span><span class="p">()</span></code>

<a href="#import_export_extensions.api.ExportStartActionMixin.get_export_detail_serializer_class" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Get serializer which will be used show details of export job.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/mixins/export_mixins.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_export_detail_serializer_class</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">type</span><span class="p">[</span><span class="n">serializers</span><span class="o">.</span><span class="n">ExportJobSerializer</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get serializer which will be used show details of export job.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_detail_serializer_class</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ExportStartActionMixin.get_export_resource_kwargs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_export_resource_kwargs</span><span class="p">()</span></code>

<a href="#import_export_extensions.api.ExportStartActionMixin.get_export_resource_kwargs" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Provide extra arguments to resource class.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/mixins/export_mixins.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_export_resource_kwargs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide extra arguments to resource class.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ExportStartActionMixin.get_queryset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_queryset</span><span class="p">()</span></code>

<a href="#import_export_extensions.api.ExportStartActionMixin.get_queryset" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Return export model queryset on export action.</p>
<p>For better openapi support and consistency.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/mixins/export_mixins.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QuerySet</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return export model queryset on export action.</span>

<span class="sd">    For better openapi support and consistency.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_action</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">get_model_queryset</span><span class="p">()</span>  <span class="c1"># pragma: no cover</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>  <span class="c1"># type: ignore[misc]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ExportStartActionMixin.get_serializer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_serializer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.ExportStartActionMixin.get_serializer" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Provide resource kwargs to serializer class.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/mixins/export_mixins.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_serializer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Serializer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide resource kwargs to serializer class.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">action</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_action</span><span class="p">:</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span>
            <span class="s2">&quot;resource_kwargs&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_export_resource_kwargs</span><span class="p">(),</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># type: ignore[misc]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.ExportStartActionMixin.start_export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">start_export</span><span class="p">(</span><span class="n">request</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.ExportStartActionMixin.start_export" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Validate request data and start ExportJob.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/mixins/export_mixins.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">start_export</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate request data and start ExportJob.&quot;&quot;&quot;</span>
    <span class="n">ordering</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">query_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ordering&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ordering</span><span class="p">:</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="n">ordering</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
    <span class="n">serializer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_serializer</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
        <span class="n">ordering</span><span class="o">=</span><span class="n">ordering</span><span class="p">,</span>
        <span class="n">filter_kwargs</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">query_params</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">serializer</span><span class="o">.</span><span class="n">is_valid</span><span class="p">(</span><span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">export_job</span> <span class="o">=</span> <span class="n">serializer</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">Response</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_export_detail_serializer_class</span><span class="p">()(</span>
            <span class="n">instance</span><span class="o">=</span><span class="n">export_job</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_201_CREATED</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.CreateExportJob"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.serializers.Serializer">Serializer</span></code></p>



        <p>Base Serializer to start export job.</p>
<p>It used to set up base workflow of ExportJob creation via API.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/serializers/export_job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CreateExportJob</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">Serializer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base Serializer to start export job.</span>

<span class="sd">    It used to set up base workflow of ExportJob creation via API.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">resource_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">resources</span><span class="o">.</span><span class="n">CeleryModelResource</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
        <span class="n">ordering</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">filter_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set ordering, filter kwargs and current user.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ordering</span> <span class="o">=</span> <span class="n">ordering</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_filter_kwargs</span> <span class="o">=</span> <span class="n">filter_kwargs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_resource_kwargs</span> <span class="o">=</span> <span class="n">resource_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">Request</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;request&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_user</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attrs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that ordering and filter kwargs are valid.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="p">(</span>
            <span class="n">ordering</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_ordering</span><span class="p">,</span>
            <span class="n">filter_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_filter_kwargs</span><span class="p">,</span>
            <span class="n">created_by</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_user</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_resource_kwargs</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">attrs</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">validated_data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">models</span><span class="o">.</span><span class="n">ExportJob</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create export job.&quot;&quot;&quot;</span>
        <span class="n">file_format_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">get_supported_extensions_map</span><span class="p">()[</span>
            <span class="n">validated_data</span><span class="p">[</span><span class="s2">&quot;file_format&quot;</span><span class="p">]</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">models</span><span class="o">.</span><span class="n">ExportJob</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="n">resource_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">class_path</span><span class="p">,</span>
            <span class="n">file_format_path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_format_class</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">file_format_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">resource_kwargs</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;ordering&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ordering</span><span class="p">,</span>
                <span class="s2">&quot;filter_kwargs&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_kwargs</span><span class="p">,</span>
                <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_resource_kwargs</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">created_by</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_user</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">validated_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Empty method to pass linters checks.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.CreateExportJob.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">ordering</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">filter_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.CreateExportJob.__init__" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Set ordering, filter kwargs and current user.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/serializers/export_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">,</span>
    <span class="n">ordering</span><span class="p">:</span> <span class="n">collections</span><span class="o">.</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">filter_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set ordering, filter kwargs and current user.&quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ordering</span> <span class="o">=</span> <span class="n">ordering</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_filter_kwargs</span> <span class="o">=</span> <span class="n">filter_kwargs</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_resource_kwargs</span> <span class="o">=</span> <span class="n">resource_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">Request</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;request&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_user</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.CreateExportJob.create" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create</span><span class="p">(</span><span class="n">validated_data</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.CreateExportJob.create" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Create export job.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/serializers/export_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">validated_data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">models</span><span class="o">.</span><span class="n">ExportJob</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create export job.&quot;&quot;&quot;</span>
    <span class="n">file_format_class</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">get_supported_extensions_map</span><span class="p">()[</span>
        <span class="n">validated_data</span><span class="p">[</span><span class="s2">&quot;file_format&quot;</span><span class="p">]</span>
    <span class="p">]</span>
    <span class="k">return</span> <span class="n">models</span><span class="o">.</span><span class="n">ExportJob</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">resource_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">class_path</span><span class="p">,</span>
        <span class="n">file_format_path</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_format_class</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">file_format_class</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">resource_kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;ordering&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ordering</span><span class="p">,</span>
            <span class="s2">&quot;filter_kwargs&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_kwargs</span><span class="p">,</span>
            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_resource_kwargs</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">created_by</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_user</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.CreateExportJob.update" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">validated_data</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.CreateExportJob.update" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Empty method to pass linters checks.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/serializers/export_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">validated_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Empty method to pass linters checks.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.CreateExportJob.validate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate</span><span class="p">(</span><span class="n">attrs</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.CreateExportJob.validate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Check that ordering and filter kwargs are valid.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/serializers/export_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attrs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check that ordering and filter kwargs are valid.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="p">(</span>
        <span class="n">ordering</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_ordering</span><span class="p">,</span>
        <span class="n">filter_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_filter_kwargs</span><span class="p">,</span>
        <span class="n">created_by</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_user</span><span class="p">,</span>
        <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">_resource_kwargs</span><span class="p">,</span>
    <span class="p">)</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">attrs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.CreateImportJob"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.serializers.Serializer">Serializer</span></code></p>



        <p>Base Serializer to start import job.</p>
<p>It used to set up base workflow of ImportJob creation via API.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/serializers/import_job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CreateImportJob</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">Serializer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base Serializer to start import job.</span>

<span class="sd">    It used to set up base workflow of ImportJob creation via API.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">resource_class</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">resources</span><span class="o">.</span><span class="n">CeleryModelResource</span><span class="p">]</span>

    <span class="n">file</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">FileField</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">force_import</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">skip_parse_step</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
        <span class="n">resource_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set filter kwargs and current user.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">Request</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;request&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_resource_kwargs</span> <span class="o">=</span> <span class="n">resource_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_user</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">validated_data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">models</span><span class="o">.</span><span class="n">ImportJob</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create import job.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">models</span><span class="o">.</span><span class="n">ImportJob</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="n">data_file</span><span class="o">=</span><span class="n">validated_data</span><span class="p">[</span><span class="s2">&quot;file&quot;</span><span class="p">],</span>
            <span class="n">force_import</span><span class="o">=</span><span class="n">validated_data</span><span class="p">[</span><span class="s2">&quot;force_import&quot;</span><span class="p">],</span>
            <span class="n">skip_parse_step</span><span class="o">=</span><span class="n">validated_data</span><span class="p">[</span><span class="s2">&quot;skip_parse_step&quot;</span><span class="p">],</span>
            <span class="n">resource_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">class_path</span><span class="p">,</span>
            <span class="n">resource_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_resource_kwargs</span><span class="p">,</span>
            <span class="n">created_by</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_user</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">validated_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Empty method to pass linters checks.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.CreateImportJob.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">resource_kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.CreateImportJob.__init__" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Set filter kwargs and current user.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/serializers/import_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">,</span>
    <span class="n">resource_kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set filter kwargs and current user.&quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">Request</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;request&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_resource_kwargs</span> <span class="o">=</span> <span class="n">resource_kwargs</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_user</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.CreateImportJob.create" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create</span><span class="p">(</span><span class="n">validated_data</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.CreateImportJob.create" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Create import job.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/serializers/import_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">validated_data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">models</span><span class="o">.</span><span class="n">ImportJob</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create import job.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">models</span><span class="o">.</span><span class="n">ImportJob</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">data_file</span><span class="o">=</span><span class="n">validated_data</span><span class="p">[</span><span class="s2">&quot;file&quot;</span><span class="p">],</span>
        <span class="n">force_import</span><span class="o">=</span><span class="n">validated_data</span><span class="p">[</span><span class="s2">&quot;force_import&quot;</span><span class="p">],</span>
        <span class="n">skip_parse_step</span><span class="o">=</span><span class="n">validated_data</span><span class="p">[</span><span class="s2">&quot;skip_parse_step&quot;</span><span class="p">],</span>
        <span class="n">resource_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_class</span><span class="o">.</span><span class="n">class_path</span><span class="p">,</span>
        <span class="n">resource_kwargs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_resource_kwargs</span><span class="p">,</span>
        <span class="n">created_by</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_user</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="import_export_extensions.api.CreateImportJob.update" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">validated_data</span><span class="p">)</span></code>

<a href="#import_export_extensions.api.CreateImportJob.update" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Empty method to pass linters checks.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>import_export_extensions/api/serializers/import_job.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">125</span>
<span class="normal">126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">validated_data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Empty method to pass linters checks.&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.ExportJobSerializer"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.serializers.ModelSerializer">ModelSerializer</span></code></p>



        <p>Serializer to show information about export job.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/serializers/export_job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ExportJobSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serializer to show information about export job.&quot;&quot;&quot;</span>

    <span class="n">progress</span> <span class="o">=</span> <span class="n">ExportProgressSerializer</span><span class="p">()</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ExportJob</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;export_status&quot;</span><span class="p">,</span>
            <span class="s2">&quot;data_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;progress&quot;</span><span class="p">,</span>
            <span class="s2">&quot;export_started&quot;</span><span class="p">,</span>
            <span class="s2">&quot;export_finished&quot;</span><span class="p">,</span>
            <span class="s2">&quot;created&quot;</span><span class="p">,</span>
            <span class="s2">&quot;modified&quot;</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.ImportJobSerializer"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.serializers.ModelSerializer">ModelSerializer</span></code></p>



        <p>Serializer to show information about import job.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/serializers/import_job.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ImportJobSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serializer to show information about import job.&quot;&quot;&quot;</span>

    <span class="n">progress</span> <span class="o">=</span> <span class="n">ImportProgressSerializer</span><span class="p">()</span>

    <span class="n">import_params</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">ImportParamsSerializer</span><span class="p">(</span>
        <span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">source</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">totals</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">TotalsSerializer</span><span class="p">(</span>
        <span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">source</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parse_error</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="s2">&quot;error_message&quot;</span><span class="p">,</span>
        <span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">allow_blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">input_error</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">InputErrorSerializer</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
        <span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">skipped_errors</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">SkippedErrorsSerializer</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
        <span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">importing_data</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">ImportingDataSerializer</span><span class="p">(</span>
        <span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">source</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">input_errors_file</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">FileField</span><span class="p">(</span>
        <span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">allow_null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">is_all_rows_shown</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">IsAllRowsShowField</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
        <span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ImportJob</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;progress&quot;</span><span class="p">,</span>
            <span class="s2">&quot;import_status&quot;</span><span class="p">,</span>
            <span class="s2">&quot;import_params&quot;</span><span class="p">,</span>
            <span class="s2">&quot;totals&quot;</span><span class="p">,</span>
            <span class="s2">&quot;parse_error&quot;</span><span class="p">,</span>
            <span class="s2">&quot;input_error&quot;</span><span class="p">,</span>
            <span class="s2">&quot;skipped_errors&quot;</span><span class="p">,</span>
            <span class="s2">&quot;is_all_rows_shown&quot;</span><span class="p">,</span>
            <span class="s2">&quot;importing_data&quot;</span><span class="p">,</span>
            <span class="s2">&quot;input_errors_file&quot;</span><span class="p">,</span>
            <span class="s2">&quot;import_started&quot;</span><span class="p">,</span>
            <span class="s2">&quot;import_finished&quot;</span><span class="p">,</span>
            <span class="s2">&quot;force_import&quot;</span><span class="p">,</span>
            <span class="s2">&quot;created&quot;</span><span class="p">,</span>
            <span class="s2">&quot;modified&quot;</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.ProgressSerializer"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.serializers.Serializer">Serializer</span></code></p>



        <p>Serializer to show progress of job.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/serializers/progress.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ProgressSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">Serializer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serializer to show progress of job.&quot;&quot;&quot;</span>

    <span class="n">info</span> <span class="o">=</span> <span class="n">ProgressInfoSerializer</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<a id="import_export_extensions.api.ProgressInfoSerializer"></a>
    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="rest_framework.serializers.Serializer">Serializer</span></code></p>



        <p>Serializer to show progress info, like how much is done.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>import_export_extensions/api/serializers/progress.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ProgressInfoSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">Serializer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Serializer to show progress info, like how much is done.&quot;&quot;&quot;</span>

    <span class="n">current</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span>
    <span class="n">total</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["search.suggest", "search.highlight", "search.share", "navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.path", "content.code.annotate", "content.code.copy", "content.tooltips"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>