{% extends "admin/base.html" %}
{% load i18n %}
{% load static admin_urls %}
{% block extrastyle %}{{ block.super }}<link rel="stylesheet" type="text/css" href="{% static "admin/css/forms.css" %}" />{% endblock %}

{% comment %}
  Template for celery import.

  Display form for choosing data file
{% endcomment %}

{% block extrahead %}
  {{ block.super }}
  <script type="text/javascript" src="{% static 'admin/js/vendor/jquery/jquery.js' %}"></script>
  <script type="text/javascript" src="{% static 'admin/js/jquery.init.js' %}"></script>
  <script type="text/javascript" src="{% static 'import_export_extensions/js/admin/admin.js' %}"></script>
{% endblock %}


{% block breadcrumbs_last %}
  &rsaquo; {% trans "Import" %}
{% endblock %}

{% block content %}
  <form action="" method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <p>
      {% trans "This importer will import the following fields: " %}
      {% if fields_list|length <= 1 %}
        <code>{{ fields_list.0.1|join:", " }}</code>
      {% else %}
        <dl>
          {% for resource, fields in fields_list %}
            <dt>{{ resource }}</dt>
            <dd><code>{{ fields|join:", " }}</code></dd>
          {% endfor %}
        </dl>
      {% endif %}
    </p>

    <fieldset class="module aligned">
      {% for field in form %}
        <div class="form-row">
          {{ field.errors }}

          {{ field.label_tag }}

          {{ field }}

          {% if field.field.help_text %}
            <p class="help">{{ field.field.help_text|safe }}</p>
          {% endif %}
        </div>
      {% endfor %}
    </fieldset>

    <div class="submit-row">
      <input type="submit" class="default" value="{% trans "Submit" %}">
    </div>
  </form>

{% endblock %}
